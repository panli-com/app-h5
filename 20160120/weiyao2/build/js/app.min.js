function ShakeHandler(e,a){if(e._threshold=a||800,ShakeHandler._inited)return void t.push(e);if(!window.DeviceMotionEvent)return void alert("本设备不支持 devicemotion 事件");ShakeHandler._inited=!0;var t=[],n=0,i=y=z=last_x=last_y=last_z=0;window.addEventListener("devicemotion",function(e){var a=e.accelerationIncludingGravity,s=(new Date).getTime();if(s-n>100){var l=s-n;n=s,i=a.x,y=a.y,z=a.z;var d=Math.abs(i+y+z-last_x-last_y-last_z)/l*1e4;for(var o in t)d>t[o]._threshold&&t[o]();last_x=i,last_y=y,last_z=z}}),t.push(e)}function animationend(e){var a=e.target;a.className="",loading.className="active",result.className="",setTimeout(function(){audio_match.play(),loading.className="",result.className="result-in"},1200)}function onShake(){hands[1].className||(audio_male.play(),hands[0].setAttribute("class","hand-up"),hands[1].className="hand-down","result-in"===result.className&&(result.className="result-out"))}document.body.addEventListener("touchstart",function(e){e.preventDefault(),e.target.click()},!1),footer.addEventListener("click",function(e){var a=e.target;if("LI"===a.tagName){document.title="摇"+a.innerHTML,onShake();for(var t=footer.getElementsByTagName("li"),n=0,i=t.length;i>n;n++)t[n].setAttribute("class","");a.setAttribute("class","active")}}),handsome.addEventListener("animationend",animationend),handsome.addEventListener("webkitAnimationEnd",animationend);var hands=handsome.getElementsByTagName("div");ShakeHandler(onShake,2500);